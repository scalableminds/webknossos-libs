# Change Log

All notable changes to the cluser_tools library are documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](http://semver.org/) `MAJOR.MINOR.PATCH`.
For upgrade instructions, please check the respective *Breaking Changes* sections.

## Unreleased
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.12.3...HEAD)

### Breaking Changes

### Added

### Changed
- Upgrades `black`, `mypy`, `pylint`, `pytest`. [#873](https://github.com/scalableminds/webknossos-libs/pull/873)

### Fixed


## [0.12.3](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.12.3) - 2023-02-22
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.12.2...v0.12.3)


## [0.12.2](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.12.2) - 2023-02-20
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.12.1...v0.12.2)


## [0.12.1](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.12.1) - 2023-02-16
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.12.0...v0.12.1)


## [0.12.0](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.12.0) - 2023-02-10
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.11.4...v0.12.0)


## [0.11.4](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.11.4) - 2023-02-09
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.11.3...v0.11.4)

### Fixed
- Fixed the execution of non-array jobs using slurm. [#864](https://github.com/scalableminds/webknossos-libs/pull/864)



## [0.11.3](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.11.3) - 2023-02-06
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.11.2...v0.11.3)


## [0.11.2](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.11.2) - 2023-01-18
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.11.1...v0.11.2)

### Fixed
- Fixed `TypeError` when aborting a run that occurred under certain circumstances. [#851](https://github.com/scalableminds/webknossos-libs/pull/851)



## [0.11.1](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.11.1) - 2023-01-05
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.11.0...v0.11.1)

### Changed
- When using the slurm or pbs distribution strategy, scheduled jobs are automatically canceled when aborting a run, i.e. if the SIGINT signal is received. [#838](https://github.com/scalableminds/webknossos-libs/pull/838)


## [0.11.0](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.11.0) - 2022-12-09
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.27...v0.11.0)


## [0.10.27](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.27) - 2022-12-07
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.26...v0.10.27)


## [0.10.26](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.26) - 2022-12-05
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.25...v0.10.26)


## [0.10.25](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.25) - 2022-11-29
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.24...v0.10.25)


## [0.10.24](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.24) - 2022-11-09
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.23...v0.10.24)


## [0.10.23](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.23) - 2022-11-01
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.22...v0.10.23)


## [0.10.22](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.22) - 2022-10-27
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.21...v0.10.22)


## [0.10.21](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.21) - 2022-10-26
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.20...v0.10.21)


## [0.10.20](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.20) - 2022-10-20
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.19...v0.10.20)


## [0.10.19](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.19) - 2022-10-18
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.18...v0.10.19)


## [0.10.18](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.18) - 2022-09-29
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.17...v0.10.18)


## [0.10.17](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.17) - 2022-09-26
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.16...v0.10.17)


## [0.10.16](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.16) - 2022-09-13
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.14...v0.10.16)


## [0.10.14](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.14) - 2022-08-30
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.13...v0.10.14)


## [0.10.13](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.13) - 2022-08-22
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.12...v0.10.13)


## [0.10.12](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.12) - 2022-08-15
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.11...v0.10.12)


## [0.10.11](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.11) - 2022-08-03
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.10...v0.10.11)


## [0.10.10](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.10) - 2022-07-26
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.9...v0.10.10)


## [0.10.9](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.9) - 2022-07-22
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.8...v0.10.9)

### Fixed
- Suppress spurious ConnectionResetErrors when using multiprocessing. [#770](https://github.com/scalableminds/webknossos-libs/pull/770)



## [0.10.8](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.8) - 2022-07-15
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.7...v0.10.8)


## [0.10.7](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.7) - 2022-07-14
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.6...v0.10.7)


## [0.10.6](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.6) - 2022-06-27
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.5...v0.10.6)


## [0.10.5](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.5) - 2022-06-15
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.4...v0.10.5)


## [0.10.4](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.4) - 2022-06-15
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.3...v0.10.4)


## [0.10.3](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.3) - 2022-06-03
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.2...v0.10.3)

### Added
- Detect when slurm jobs crash due to being out-of-memory. [#739](https://github.com/scalableminds/webknossos-libs/pull/739)


## [0.10.2](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.2) - 2022-05-20
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.1...v0.10.2)

### Fixed
- Fix `_log() got unexpected keyword argument: 'file'` error for newer Python versions. [#735](https://github.com/scalableminds/webknossos-libs/pull/735)


## [0.10.1](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.1) - 2022-05-10
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.10.0...v0.10.1)


## [0.10.0](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.10.0) - 2022-05-09
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.24...v0.10.0)


## [0.9.24](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.24) - 2022-05-03
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.23...v0.9.24)


## [0.9.23](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.23) - 2022-05-03
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.22...v0.9.23)


## [0.9.22](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.22) - 2022-05-02
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.21...v0.9.22)


## [0.9.21](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.21) - 2022-04-20
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.20...v0.9.21)


## [0.9.20](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.20) - 2022-04-20
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.19...v0.9.20)


## [0.9.19](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.19) - 2022-04-11
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.18...v0.9.19)

### Fixed
- Fixed that the ProcessPoolExecutor by the cluster tools would also create a checkpoint if the job failed. This was a regression introduced by #686. [#692](https://github.com/scalableminds/webknossos-libs/pull/692)


## [0.9.18](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.18) - 2022-04-06
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.17...v0.9.18)

### Breaking Changes
- The cluster-tools serialize the output of a job in the format `(wasSuccessful, result_value)` to a pickle file if `output_pickle_path` is provided and multiprocessing is used. This is consistent with how it is already done when using a cluster executor (e.g., slurm). [#686](https://github.com/scalableminds/webknossos-libs/pull/686)


## [0.9.17](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.17) - 2022-04-05
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.16...v0.9.17)


## [0.9.16](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.16) - 2022-03-31
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.15...v0.9.16)


## [0.9.15](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.15) - 2022-03-31
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.14...v0.9.15)

### Breaking Changes
- The `multiprocessing` executor now uses `spawn` as default start method. `fork` and `forkserver` can be used by supplying a `start_method` argument (e.g. `cluster_tools.get_executor("multiprocessing", start_method="forkserver")`) or by setting the `MULTIPROCESSING_DEFAULT_START_METHOD` environment variable. [#662](https://github.com/scalableminds/webknossos-libs/pull/662)


## [0.9.14](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.14) - 2022-03-24
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.13...v0.9.14)


## [0.9.13](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.13) - 2022-03-24
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.12...v0.9.13)


## [0.9.12](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.12) - 2022-03-18
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.11...v0.9.12)


## [0.9.11](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.11) - 2022-03-16
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.10...v0.9.11)


## [0.9.10](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.10) - 2022-03-15
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.9...v0.9.10)


## [0.9.9](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.9) - 2022-03-03
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.8...v0.9.9)


## [0.9.8](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.8) - 2022-02-28
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.7...v0.9.8)


## [0.9.7](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.7) - 2022-02-28
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.6...v0.9.7)

### Added
* Added `KubernetesExecutor` for parallelizing Python scripts on a Kubernetes cluster. [#600](https://github.com/scalableminds/webknossos-libs/pull/600)


## [0.9.6](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.6) - 2022-02-15
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.5...v0.9.6)

### Added
- Automatically detect when a multiprocessing context is set up without using an `if __name__ == "__main__"` guard in the main module. [#598](https://github.com/scalableminds/webknossos-libs/pull/598)


## [0.9.5](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.5) - 2022-02-10
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.4...v0.9.5)


## [0.9.4](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.4) - 2022-02-09
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.3...v0.9.4)


## [0.9.3](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.3) - 2022-02-07
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.2...v0.9.3)


## [0.9.2](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.2) - 2022-02-03
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.1...v0.9.2)


## [0.9.1](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.1) - 2022-01-31
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.9.0...v0.9.1)


## [0.9.0](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.9.0) - 2022-01-19
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.8.31...v0.9.0)

### Added
- Allow to configure the MaxArraySize and MaxSubmitJobs slurm limits via the `SLURM_MAX_ARRAY_SIZE` and `SLURM_MAX_SUBMIT_JOBS` environment variables. If the environment variables are not specified, the limits are determined automatically. [#554](https://github.com/scalableminds/webknossos-libs/pull/554)


## [0.8.31](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.8.31) - 2022-01-07
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.8.30...v0.8.31)


## [0.8.30](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.8.30) - 2021-12-27
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.8.29...v0.8.30)


## [0.8.29](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.8.29) - 2021-12-14
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.8.28...v0.8.29)


## [0.8.28](https://github.com/scalableminds/webknossos-libs/releases/tag/v0.8.28) - 2021-12-09
[Commits](https://github.com/scalableminds/webknossos-libs/compare/v0.8.27...v0.8.28)

This module did not exist in 0.8.28. See the following notes about the mono-repo migration

# Mono Repo Migration

Before 0.8.29, cluser_tools did not exist in this repository. Instead, v1.1 to v1.61 were maintained in [this repository](https://github.com/scalableminds/cluster_tools/releases).
Note that 0.8.29 is newer than 1.61.
The poor naming was a sacrifice during the mono-repo migration which enforced synchronized versioning between all packages (e.g., wkcuber and webknossos).
To avoid version conflicts in the future, the first major release for webknossos-libs will be v2.
